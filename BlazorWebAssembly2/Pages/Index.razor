@page "/"
@inject NavigationManager navigationManager

<div class="row">
    <div class="col-12 text-center">
        <hr class="mb-4 mt-0">
        <EditForm Model="@gitUsernameSearch" OnValidSubmit="@HandleValidSubmit">
            <DataAnnotationsValidator />
            <ValidationSummary />

            <label for="username">Username</label>
            <InputText id="username" @bind-Value="@gitUsernameSearch.Username" />

            <button type="submit" class="btn btn-primary">Submit</button>
        </EditForm>
        <hr class="my-4">
    </div>
</div>
<div id="spinner" class="row" style="display:none;">
    <div class="col-12 text-center">
        <i class="fa fa-spinner fa-4x fa-spin"></i>
    </div>
</div>

@code {
    private BlazorWebAssembly2.GitUsernameSearch gitUsernameSearch = new BlazorWebAssembly2.GitUsernameSearch();

    private void HandleValidSubmit()
    {
        navigationManager.NavigateTo(@"\FetchData\" + gitUsernameSearch.Username);
    }
}